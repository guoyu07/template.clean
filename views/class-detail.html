<script type="text/ng-template" id="templates/class-detail.html">
    <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal"><i class="icon-code"></i></a>
    <span class="type-mutators">{{ class_detail.class.type }} {{ class_detail.class.final && 'final' || '' }} {{ class_detail.class.abstract && 'abstract' || '' }}</span>
    <h1><small>{{ class_detail.class.namespace }}</small>{{ class_detail.class.name }}</h1>
    <span ng-show="{{ class_detail.class.extends }}">extends {{ class_detail.class.extends }}</span>
    <span ng-show="{{ class_detail.class.implements }}">implements {{ class_detail.class.implements }}</span>

    <section class="class-intro divider" ng-show="class_detail.class.summary || class_detail.class.description">
        <h2>Class Overview</h2>
        <p><em>{{ class_detail.class.summary }}</em></p>
        <div ng-bind-html="class_detail.class.description|markdown"></div>
    </section>

    <section class="summary divider" ng-include src="'class-summary'"></section>

    <section class="constants divider" ng-include src="'class-constants'" ng-show="class_detail.class.constants.length > 0"></section>

    <section class="properties divider" ng-include src="'class-properties'" ng-show="class_detail.class.properties.length > 0"></section>

    <section class="methods divider" ng-include src="'class-methods'" ng-show="class_detail.class.methods.length > 0"></section>
</script>

<script type="text/ng-template" id="breadcrumb">
    <ul class="breadcrumbs">
        <li><a href="#/namespaces/default.html">\</a></li>
        <li ng-repeat="part in class_detail.class.fqsen.split('\\').join('/').substring(1)">
            <a href="#/namespaces/phpDocumentor.html">{{ part }}</a>
        </li>
        <li class="current">{{ class_detail.class.name }}</li>
        <!--<li><a href="#/namespaces/phpDocumentor.html">phpDocumentor</a></li>-->
        <!--<li class="current"><a href="../namespaces/phpDocumentor.html">Application</a></li>-->
    </ul>
</script>

<script type="text/ng-template" id="class-summary">
    <h2>Summary</h2>
    <table ng-show="class_detail.class.constants.length > 0">
        <tr><th colspan="2">Constants</th></tr>
        <tr ng-repeat="constant in class_detail.class.constants">
            <td>{{ constant.type.join('|') }}</td>
            <td>{{ constant.name }}</td>
        </tr>
    </table>
    <table ng-show="class_detail.class.public_properties.length > 0">
        <tr><th colspan="2">Public properties</th></tr>
        <tr ng-repeat="property in class_detail.class.public_properties">
            <td>{{ property.type.join('|') }}</td>
            <td>${{ property.name }}</td>
        </tr>
    </table>
    <table ng-show="class_detail.class.protected_properties.length > 0">
        <tr><th colspan="2">Protected properties</th></tr>
        <tr ng-repeat="property in class_detail.class.protected_properties">
            <td>{{ property.type.join('|') }}</td>
            <td>${{ property.name }}</td>
        </tr>
    </table>
    <table ng-show="class_detail.class.private_properties.length > 0">
        <tr><th colspan="2">Private properties</th></tr>
        <tr ng-repeat="property in class_detail.class.private_properties">
            <td>{{ property.type.join('|') }}</td>
            <td>${{ property.name }}</td>
        </tr>
    </table>
    <table ng-show="class_detail.class.public_methods.length > 0">
        <tr><th colspan="2">Public methods</th></tr>
        <tr ng-repeat="method in class_detail.class.public_methods">
            <td>{{ method.final && 'final ' || ''}}{{ method.abstract && 'abstract ' || ''}} {{method.tags.return[0].type && method.tags.return[0].type.join('|') || 'void'}}</td>
            <td class="signature">
                <strong>{{ method.name }}</strong>(<span class="argument" ng-repeat="argument in method.arguments">{{ argument.type && argument.type.join('|') || 'mixed' }} {{argument.name}}</span>)
                <div>{{ method.summary }}</div>
            </td>
        </tr>
    </table>
    <table ng-show="class_detail.class.protected_methods > 0">
        <tr><th colspan="2">Protected methods</th></tr>
        <tr ng-repeat="method in class_detail.class.protected_methods">
            <td>{{ method.final && 'final ' || ''}}{{ method.abstract && 'abstract ' || ''}} {{method.tags.return[0].type && method.tags.return[0].type.join('|') || 'void'}}</td>
            <td class="signature">
                <strong>{{ method.name }}</strong>(<span class="argument" ng-repeat="argument in method.arguments">{{ argument.type && argument.type.join('|') || 'mixed' }} {{argument.name}}</span>)
                <div>{{ method.summary }}</div>
            </td>
        </tr>
    </table>
    <table ng-show="class_detail.class.private_methods.length > 0">
        <tr><th colspan="2">Private methods</th></tr>
        <tr ng-repeat="method in class_detail.class.private_methods">
            <td>{{ method.final && 'final ' || ''}}{{ method.abstract && 'abstract ' || ''}} {{method.tags.return[0].type && method.tags.return[0].type.join('|') || 'void'}}</td>
            <td class="signature">
                <strong>{{ method.name }}</strong>(<span class="argument" ng-repeat="argument in method.arguments">{{ argument.type && argument.type.join('|') || 'mixed' }} {{argument.name}}</span>)
                <div>{{ method.summary }}</div>
            </td>
        </tr>
    </table>
</script>

<script type="text/ng-template" id="class-sidebar">
    <dl>
        <dt>File</dt>
        <dd><a href="#/files/{{ class_detail.class.file.split('/').join('.') }}"><div class="path-wrapper">{{ class_detail.class.file }}</div></a></dd>
        <dt>Package</dt>
        <dd>
            <a href="#/packages/{{ class_detail.class.package.split('\\').join('.') }}">{{ class_detail.class.package }}</a>
        </dd>
        <dt ng-show="class_detail.class.extends">Parent class</dt>
        <dd ng-show="class_detail.class.extends"><a href="#/{{ class_detail.class.extends|route }}">{{ class_detail.class.extends }}</a></dd>
    </dl>
</script>

<script type="text/ng-template" id="class-constants">
    <a id="constants" name="constants"></a>
    <h2>Constants</h2>

    <div ng-repeat="constant in class_detail.class.constants | orderBy : visibility" ng-include id="'class-constant'"></div>
</script>

<script type="text/ng-template" id="class-constant">
    <a id="constant_{{constant.name}}" name="constant_{{constant.name}}"></a>
    <article class="constant">
        <h3 class="public ">{{ constant.name }}</h3>
        <pre class="signature">{{ constant.name }} : {{ constant.type.join('|') }}</pre>
        <p><em>{{ constant.description }}</em></p>
    </article>
</script>

<script type="text/ng-template" id="class-properties">
    <a id="properties" name="properties"></a>
    <h2>Properties</h2>

    <div ng-repeat="property in class_detail.class.properties | orderBy : visibility" ng-include src="'class-property'"></div>
</script>

<script type="text/ng-template" id="class-property">
    <a id="property_{{property.name}}" name="property_{{property.name}}"></a>
    <article class="property">
        <h3 class="public ">${{ property.name }}</h3>
        <pre class="signature">${{ property.name }} : {{ property.type.join('|') }}</pre>
        <p><em>{{ property.description }}</em></p>
    </article>
</script>

<script type="text/ng-template" id="class-methods">
    <h2 id="methods">Methods</h2>

    <div ng-repeat="method in class_detail.class.methods" ng-include src="'class-method'"></div>
</script>

<script type="text/ng-template" id="class-method">
    <article class="method">
        <h3 class="signature" id="method_{{method.name}}">{{ method.visibility }} {{ method.final && 'final ' || ''}}{{ method.abstract && 'abstract ' || ''}}<strong>{{ method.name }}</strong>(<span class="argument" ng-repeat="argument in method.arguments">{{ argument.type && argument.type.join('|') || 'mixed' }} {{argument.name}}</span>): {{method.tags.return[0].type && method.tags.return[0].type.join('|') || 'void'}}</h3>
        <!--<a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>-->
        <p><em>{{method.summary}}</em></p>

        <section ng-show="method.arguments.length > 0">
            <h4>Parameters</h4>
            <table>
                <tbody>
                <tr ng-repeat="argument in method.arguments">
                    <td><div ng-repeat="type in argument.type">{{ type }}</div></td>
                    <td>{{argument.name}}</td>
                    <td ng-bind-html="argument.description|markdown"></td>
                </tr>
                </tbody>
            </table>
        </section>

        <section ng-show="method.tags.throws.length > 0">
            <h4>Throws</h4>
            <table>
                <tr ng-repeat="throws in method.tags.throws">
                    <td>{{ throws.type.join('|') }}</td><td ng-bind-html="throws.description|markdown"></td>
                </tr>
            </table>
        </section>

        <section ng-show="method.tags.return[0] && method.tags.return[0].type != 'void'">
            <h4>Result</h4>
            <p>
                {{ method.tags.return[0].type.join('|') }}
                <span ng-show="method.tags.return[0].description">&mdash;</span>
                <span ng-bind-html="method.tags.return[0].description|markdown"></span>
            </p>
        </section>
    </article>
</script>
